<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, height=device-height,
        initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="format-detection" content="telephone=no">
        <!-- Link styling. -->
        <link rel="stylesheet" href="{% static 'application/compiled/app.css' %}">
        <title>Ride With Me Login</title>
    </head>

    <body class="bg-gray-600">
      <!-- Main container to enable flexing on smaller devices. -->
      <div class="w-screen flex h-screen">
        <div class="w-5/6 m-auto">
          <!-- Container for all login components. -->
          <form
          class="p-4 max-w-md mx-auto bg-white rounded filter
          drop-shadow-lg" method="post">
            <!-- Insert csrf token for Django. -->
            {% csrf_token %}

            <!-- Container for logo image. -->
            <div class="container max-w-screen-lg mx-auto pb-3">
                <!-- Source the image from our static directory. -->
                <img class="mx-auto w-2/6 h-1/6"
                src="{% static 'application/logos/rwm-logo.png' %}"/>
            </div>

            <!-- Main header depicting application name. -->
            <h1 class="font-medium text-5xl text-center py-3 text-black">
              Ride with Me
            </h1>

            <!-- Label attached to username input field. -->
            <label class="font-medium block mb-1 mt-6 text-black" for="username"
            >
              Email
            </label>

            <!-- Input field for email. -->
            <input cy="username" name="username" class="cursor-text appearance-none border-2 rounded w-full py-3 px-3
            leading-tight border-gray-300 bg-gray-100 focus:outline-none
            focus:border-blue-500 focus:bg-white text-gray-500 pr-16"
            id="username" type="text" autocomplete="off" autofocus />

            <!-- Label attached to password input field. -->
            <label class="font-medium block mb-1 mt-6 text-gray-700"
            for="password">
              Password
            </label>

            <!-- Container for password input field and toggle controls. -->
            <div class="relative w-full">

              <!-- Container for positioning visibility vector. -->
              <div class="absolute inset-y-0 right-0 flex items-center px-2">
                <img src="{% static 'application/vectors/eye-invisible.svg' %}"
                class="cursor-pointer stroke-current text-gray-300 w-7 h-7 js-password-icon" id="toggle"
                onclick="togglePasswordEventHandler()"/>
              </div>

              <!-- Input field for password. -->
              <input cy="password" name="password" class="cursor-text appearance-none border-2 rounded w-full py-3 px-3
              leading-tight border-gray-300 bg-gray-100 focus:outline-none
              focus:border-blue-500 focus:bg-white text-gray-700 pr-16
              js-password" id="password" type="password" autocomplete="off"
              />
            </div>

            <input type="hidden" name="next" value="{{ next }}" />
                <!-- Check if Django has reported any form errors and output accordingly. -->
                {% if form.errors %}
                <div class="text-center text-red-400">
                    <p>Username and password didn't match. Please try again.</p>
                </div>
                {% endif %}
            <!-- Link to create an account. -->
            <div class="justify-center"
              style="color:blue"> <p> <a href="/accounts/register/"><u>Create an account</a></u></p>
            </div>

            <!-- Container for login and reset password link. -->
            <div>
              <!-- Button to trigger log-in event. -->
              <button cy="sign-in" class="cursor-pointer w-2/4 bg-rwmDarkBlue hover:bg-rwmOrange
              text-white font-medium py-3 px-4 mt-10 rounded focus:outline-none
              focus:shadow-outline transition duration-200" type="submit">
                Sign in
              </button>

              <!-- Reset password link, will need to be replaced with a
              registration template link. -->
              <span class="cursor-pointer w-2/4 content-center pl-10 text-blue-500
              font-semibold">
                <a href="/accounts/password_reset/">Forgot Password?</a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </body>
</html>

<!-- Required to be able to access static paths to vector assets. -->
<script>
  var invisibleEyeUrl = "{% static 'application/vectors/eye-invisible.svg' %}";
  var visibleEyeUrl = "{% static 'application/vectors/eye-visible.svg' %}";
</script>

<!-- Import default JS file. -->
<script type="text/javascript" src="{% static 'application/login.js' %}"></script>
